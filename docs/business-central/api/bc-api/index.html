<!doctype html>
<html lang="it" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-business-central/api/bc-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">BC API | Thomas Learning</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://thomascristofaro.github.io/learning/img/thomas.png"><meta data-rh="true" name="twitter:image" content="https://thomascristofaro.github.io/learning/img/thomas.png"><meta data-rh="true" property="og:url" content="https://thomascristofaro.github.io/learning/docs/business-central/api/bc-api"><meta data-rh="true" property="og:locale" content="it"><meta data-rh="true" name="docusaurus_locale" content="it"><meta data-rh="true" name="docsearch:language" content="it"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BC API | Thomas Learning"><meta data-rh="true" name="description" content="In Business Central le API sono di tipologia REST basate su protoccolo OData e sono molto semplici da realizzare."><meta data-rh="true" property="og:description" content="In Business Central le API sono di tipologia REST basate su protoccolo OData e sono molto semplici da realizzare."><link data-rh="true" rel="icon" href="/learning/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://thomascristofaro.github.io/learning/docs/business-central/api/bc-api"><link data-rh="true" rel="alternate" href="https://thomascristofaro.github.io/learning/docs/business-central/api/bc-api" hreflang="it"><link data-rh="true" rel="alternate" href="https://thomascristofaro.github.io/learning/docs/business-central/api/bc-api" hreflang="x-default"><link rel="stylesheet" href="/learning/assets/css/styles.30a2b5c7.css">
<script src="/learning/assets/js/runtime~main.a29a1f3c.js" defer="defer"></script>
<script src="/learning/assets/js/main.6235cb7f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Passa al contenuto principale"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Passa al contenuto principale</a></div><nav aria-label="Principale" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Attiva/disattiva la barra di navigazione" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/learning/"><div class="navbar__logo"><img src="/learning/img/avatar-sign.png" alt="Learning Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/learning/img/avatar-sign.png" alt="Learning Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Learning</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/learning/docs/business-central/Introduzione/intro">Business Central</a><a class="navbar__item navbar__link" href="/learning/docs/power-platform/intro">Power Platform</a><a class="navbar__item navbar__link" href="/learning/docs/power-apps/intro">Power Apps</a></div><div class="navbar__items navbar__items--right"><a href="https://cristofaro.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Passa dalla modalità scura a quella chiara (currently modalità luce)" aria-label="Passa dalla modalità scura a quella chiara (currently modalità luce)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Torna indietro all&#x27;inizio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Barra laterale dei documenti" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/business-central/Introduzione/intro">Introduzione</a><button aria-label="Expand sidebar category &#x27;Introduzione&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/category/strumenti-di-sviluppo">Strumenti di sviluppo</a><button aria-label="Expand sidebar category &#x27;Strumenti di sviluppo&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/category/linguaggio-al">Linguaggio AL</a><button aria-label="Expand sidebar category &#x27;Linguaggio AL&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/category/oggetti">Oggetti</a><button aria-label="Expand sidebar category &#x27;Oggetti&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/category/registrazione">Registrazione</a><button aria-label="Expand sidebar category &#x27;Registrazione&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/learning/docs/category/api">API</a><button aria-label="Collapse sidebar category &#x27;API&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/docs/business-central/api/theory">Nozioni di base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/learning/docs/business-central/api/bc-api">BC API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/learning/docs/business-central/api/external-api">API Esterne</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learning/docs/business-central/copilot">Copilot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/learning/docs/business-central/project-management">Project Management</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/learning/docs/category/business-functions">Business Functions</a><button aria-label="Expand sidebar category &#x27;Business Functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collassa la barra laterale" aria-label="Collassa la barra laterale" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Briciole di pane"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Pagina principale" class="breadcrumbs__link" href="/learning/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/learning/docs/category/api"><span itemprop="name">API</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">BC API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Su questa pagina</button></div><div class="theme-doc-markdown markdown"><header><h1>BC API</h1></header>
<p>In Business Central le API sono di tipologia REST basate su protoccolo OData e sono molto semplici da realizzare.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisiti">Prerequisiti<a href="#prerequisiti" class="hash-link" aria-label="Link diretto a Prerequisiti" title="Link diretto a Prerequisiti">​</a></h2>
<p>Installare <a href="https://www.postman.com/downloads/?utm_source=postman-home" target="_blank" rel="noopener noreferrer">Postman</a>: è un popolare strumento di sviluppo API utilizzato da sviluppatori per testare, sviluppare e documentare API. Offre una piattaforma user-friendly per inviare richieste HTTP, testare le risposte e visualizzare i risultati. Postman supporta vari tipi di richieste come GET, POST, PUT e DELETE, rendendolo ideale per lavorare con API RESTful.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="primo-test">Primo Test<a href="#primo-test" class="hash-link" aria-label="Link diretto a Primo Test" title="Link diretto a Primo Test">​</a></h2>
<p>Testiamo l&#x27;API companies che è già pronta all&#x27;interno dell&#x27;ambiente Business Central, l&#x27;API ci fornisce la lista delle company attive su Business Central.</p>
<p>Bisogna lanciare una richiesta HTTP GET all&#x27;indirizzo:</p>
<p><code>http://&lt;host&gt;:&lt;port&gt;/&lt;serverinstance&gt;/api/v2.0/companies?tenant=default</code></p>
<p>Se la tua installazione è standard, i dati mancanti saranno:</p>
<ul>
<li><code>&lt;host&gt;</code> = bcserver</li>
<li><code>&lt;port&gt;</code> = 7048</li>
<li><code>&lt;serverinstance&gt;</code> = BC</li>
</ul>
<p>e quindi la costruzione dell&#x27;indirizzo diventa:</p>
<p><code>http://bcserver:7048/BC/api/v2.0/companies?tenant=default</code></p>
<p>Possiamo eseguire l&#x27;API in due modi:</p>
<ul>
<li>Incollare l&#x27;indirizzo dentro un web browser (chrome, edge...)</li>
<li>Testare il metodo su Postman</li>
</ul>
<p>Alla richiesta di autenticazione bisognerà inserire utente (admin) e password (P@ssw0rd).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creare-api-custom">Creare API Custom<a href="#creare-api-custom" class="hash-link" aria-label="Link diretto a Creare API Custom" title="Link diretto a Creare API Custom">​</a></h2>
<p>Per creare una nuova API in Business Central, devi creare una Page e quindi impostare la proprietà PageType = API. Devi impostare anche le seguenti proprietà:</p>
<ul>
<li><strong>APIPublisher</strong> - Il nome dell&#x27;azienda che ha creato le API. Questo valore viene utilizzato nell&#x27;URL per connettersi all&#x27;API e viene utilizzato per raggruppare tutte le API dello stesso publisher.</li>
<li><strong>APIGroup</strong> - Un gruppo utilizzato per raggruppare logicamente un insieme di API. Questo valore viene utilizzato anche nell&#x27;URL per connettersi all&#x27;API.</li>
<li><strong>APIVersion</strong> - La versione della tua API. Puoi creare più versioni della stessa API. Ogni versione è un oggetto separato, con il proprio numero di oggetto. Tuttavia, puoi supportare più versioni contemporaneamente. In questo modo, gli altri servizi che si basano sul tuo servizio API non devono essere modificati direttamente quando il tuo servizio aggiunge un nuovo campo o modifica la struttura dell&#x27;API. Il valore di questo campo piò essere: beta or v1.0, v1.1, v1.2, v2.0, and so on.</li>
<li><strong>EntityName</strong> - Il valore singolo dell&#x27;entità restituita dall&#x27;API (Customer, Item, Car, Vendor, Artist, Movie, and so on).</li>
<li><strong>EntitySetName</strong> - Questo parametro è il valore plurale per l&#x27;entità restituita dall&#x27;API (Customers, Items, Cars, Vendors, Artists, Movies, and so on).</li>
<li><strong>ODataKeyFields</strong> - Questa proprietà indica quale campo verrà utilizzato come chiave. Quando richiedi un record specifico, puoi impostare questa proprietà per indicare quale campo utilizzerai per cercare quel particolare record. Microsoft crea un campo SystemId, che è disponibile su ogni tabella, anche sulle tue tabelle, senza la necessità di doverlo creare tu stesso. Il campo SystemId identificherà un record in modo univoco e non cambierà mai nel tempo, anche se aggiorni la chiave primaria. Ti consiglo di utilizzare il campo SystemId come ODataKeyFields.</li>
<li><strong>DelayedInsert</strong> - Questo valore deve essere sempre impostato su true per le pagine API. Questa impostazione garantisce che i valori vengano inseriti nel database solo quando viene effettuato il provisioning di tutti i valori dalla richiesta API.</li>
</ul>
<p>L&#x27;esempio di codice seguente mostra la struttura di una pagina API personalizzata che utilizza la tabella Customer.</p>
<div class="language-al codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-al codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">page</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50115</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;My Custom Customer API&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PageType </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> API</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    APIVersion </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;v1.0&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    APIPublisher </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mycompany&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    APIGroup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sales&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EntityName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mycustomer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    EntitySetName </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mycustomers&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DelayedInsert </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SourceTable </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Customer</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ODataKeyFields </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SystemId</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">layout</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">area</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">repeater</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">GroupName</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">SystemId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ApplicationArea </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> All</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">Name</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ApplicationArea </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> All</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">field</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">;</span><span class="token string" style="color:#e3116c">&quot;E-Mail&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ApplicationArea </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> All</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copia il codice negli appunti" title="Copia" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="costruzione-degli-url">Costruzione degli URL<a href="#costruzione-degli-url" class="hash-link" aria-label="Link diretto a Costruzione degli URL" title="Link diretto a Costruzione degli URL">​</a></h3>
<p>In business central OnPremise gli URL delle API sono costruiti nel seguente modo:</p>
<p><code>&lt;base URL&gt;/api/&lt;API publisher&gt;/&lt;API group&gt;/&lt;API version&gt;/&lt;entitysetname&gt;</code></p>
<p>Nel caso specifico l&#x27;url quindi diventa:</p>
<p><code>http://bcserver:7048/BC/api/mycompany/sales/v1.0/mycustomers</code></p>
<p>Provare quindi a contattarlo per visuallizzare la risposta.</p>
<p>Nel caso in cui la richiesta restituisca un errore relativa alla company, bisogna inserire anche l&#x27;id della company a cui si vuole accedere, quindi l&#x27;url diventa:</p>
<p><code>http://bcserver:7048/BC/api/mycompany/sales/v1.0/companies(&lt;company id&gt;)/mycustomers</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-operations">Basic Operations<a href="#basic-operations" class="hash-link" aria-label="Link diretto a Basic Operations" title="Link diretto a Basic Operations">​</a></h2>
<table><thead><tr><th>Method</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>GET</td><td>List collection</td><td>GET <code>.../entitysetname</code></td></tr><tr><td>GET</td><td>Get member of the collection</td><td>GET <code>.../entitysetname({id})</code></td></tr><tr><td>POST</td><td>Create new entity in the collection</td><td>POST <code>.../entitysetname/</code></td></tr><tr><td>PATCH</td><td>Update entity</td><td>PATCH <code>.../entitysetname({id})</code></td></tr><tr><td>DELETE</td><td>Delete entity</td><td>DELETE <code>.../entitysetname({id})</code></td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="get-api">GET API<a href="#get-api" class="hash-link" aria-label="Link diretto a GET API" title="Link diretto a GET API">​</a></h2>
<p>Per leggere i dati da una tabella, è necessario utilizzare il metodo GET. Il metodo GET può essere utilizzato per leggere un singolo record o un elenco di record:</p>
<ul>
<li>Elenco di record: <code>.../&lt;entitysetname&gt;</code></li>
<li>Singolo record: <code>.../&lt;entitysetname&gt;(&lt;id&gt;)</code></li>
</ul>
<p><img decoding="async" loading="lazy" alt="API2" src="/learning/assets/images/API2-25cebde6c0f87c71cb7cfb9dfe1083a6.png" width="1314" height="608" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filtrare">Filtrare<a href="#filtrare" class="hash-link" aria-label="Link diretto a Filtrare" title="Link diretto a Filtrare">​</a></h3>
<p>Per filtrare i dati, è necessario utilizzare il parametro $filter. Il parametro $filter deve essere integrato nell&#x27;URL nel seguente modo: <code>.../&lt;entitysetname&gt;?$filter=&lt;filter&gt;</code></p>
<p>Il parametro $filter può essere utilizzato con i seguenti operatori:</p>
<table><thead><tr><th>Operator</th><th>Description</th><th>Example</th></tr></thead><tbody><tr><td>eq</td><td>Equal</td><td>$filter=category eq &#x27;Expense&#x27;</td></tr><tr><td>ne</td><td>Not equal</td><td>$filter=unitPrice ne 0</td></tr><tr><td>gt</td><td>Greater than</td><td>$filter=unitPrice gt 1000</td></tr><tr><td>ge</td><td>Greater than or equal</td><td>$filter=unitPrice ge 1000</td></tr><tr><td>lt</td><td>Less than</td><td>$filter=unitPrice lt 1000</td></tr><tr><td>le</td><td>Less than or equal</td><td>$filter=unitPrice le 1000</td></tr><tr><td>and</td><td>Logical and</td><td>$filter=number ge &#x27;50000&#x27; and number lt &#x27;60000&#x27;</td></tr><tr><td>or</td><td>Logical or</td><td>$filter=category eq &#x27;Expense&#x27; or category eq &#x27;Income&#x27;</td></tr><tr><td>not</td><td>Logical negation</td><td>Not supported</td></tr><tr><td>()</td><td>Precedence grouping</td><td>$filter=(category eq &#x27;Expense&#x27; or category eq &#x27;Income&#x27;) and (number ge &#x27;40000&#x27; and number lt &#x27;50000&#x27;)</td></tr><tr><td>contains</td><td>Search for substring</td><td>$filter=contains(displayName, &#x27;red&#x27;)</td></tr><tr><td>endswith</td><td>Test if first string ends with second string</td><td>$filter=endswith(email,&#x27;contoso.com&#x27;)</td></tr><tr><td>startswith</td><td>Test if first string starts with second string</td><td>$filter=startswith(email,&#x27;aj&#x27;)</td></tr><tr><td>concat</td><td>Returns a string that appends the second parameter to the first</td><td>Not supported</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="post-api">POST API<a href="#post-api" class="hash-link" aria-label="Link diretto a POST API" title="Link diretto a POST API">​</a></h2>
<p>Per inserire un record in una tabella, è necessario utilizzare il metodo POST all&#x27;url <code>.../&lt;entitysetname&gt;</code>. Il body della richiesta deve contenere i dati del record da inserire sotto forma di JSON. Restituirà un codice di stato 201 Created e il record inserito.</p>
<p><img decoding="async" loading="lazy" alt="API3" src="/learning/assets/images/API3-2aaa34511421570c13870b5c44e35f74.png" width="1311" height="647" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="patch-api">PATCH API<a href="#patch-api" class="hash-link" aria-label="Link diretto a PATCH API" title="Link diretto a PATCH API">​</a></h2>
<p>Per modificare un record in una tabella, è necessario utilizzare il metodo PATCH all&#x27;url <code>.../&lt;entitysetname&gt;(&lt;id&gt;)</code>. Il body della richiesta deve contenere i dati del record da modificare sotto forma di JSON. Restituirà un codice di stato 200 OK e il record modificato. In aggiunta bisogna anche inserire l&#x27;header <code>If-Match</code> con il valore <code>*</code>.</p>
<p><img decoding="async" loading="lazy" alt="API4" src="/learning/assets/images/API4-14865e6cfbc4020d0c789a8dded7d0e4.png" width="1316" height="542" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="delete-api">DELETE API<a href="#delete-api" class="hash-link" aria-label="Link diretto a DELETE API" title="Link diretto a DELETE API">​</a></h2>
<p>Per eliminare un record in una tabella, è necessario utilizzare il metodo DELETE all&#x27;url <code>.../&lt;entitysetname&gt;(&lt;id&gt;)</code>. Restituirà un codice di stato 204 No Content.</p>
<p><img decoding="async" loading="lazy" alt="API4" src="/learning/assets/images/API5-d96d08846e8f82fed7b7df376be8e976.png" width="1317" height="437" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="esercizio">Esercizio<a href="#esercizio" class="hash-link" aria-label="Link diretto a Esercizio" title="Link diretto a Esercizio">​</a></h2>
<p>Costruire un&#x27;API per i clienti. Provare a leggere, inserire, modificare ed eliminare i dati tramite postman. Fare la stessa cosa anche con gli ordini di vendita.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="connessione-con-power-platform">Connessione con Power Platform<a href="#connessione-con-power-platform" class="hash-link" aria-label="Link diretto a Connessione con Power Platform" title="Link diretto a Connessione con Power Platform">​</a></h2>
<ol>
<li>
<p>Scaricare <a href="https://learn.microsoft.com/en-us/data-integration/gateway/service-gateway-install#download-and-install-a-standard-gateway" target="_blank" rel="noopener noreferrer">On-premises Data Gateway</a> e installare seguendo i passaggi.
Un gateway dati on-premises è un software che viene installato in una rete locale (on-premises) e ne agevola l&#x27;accesso ai dati presenti. Una delle sue applicazioni più significative è nell&#x27;ambito dell&#x27;integrazione tra sistemi locali e soluzioni basate su cloud. Nello specifico, questo gateway di Microsoft è utilizzato per collegare Business Central, installato su macchine locali, con Power Apps nel cloud. In questo modo, funge da ponte, permettendo alle applicazioni basate su cloud di interagire in modo sicuro e efficiente con i dati e le risorse aziendali gestiti localmente.</p>
</li>
<li>
<p>Seguire <a href="https://powerautomate.microsoft.com/it-it/blog/on-premise-apis/" target="_blank" rel="noopener noreferrer">questa</a> guida dal punto 2: consente di creare un custom connector al nostro gateway. In seguito potrete utilizzare questo connettore nelle power apps. --&gt;</p>
</li>
</ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Pagina del documento"><a class="pagination-nav__link pagination-nav__link--prev" href="/learning/docs/business-central/api/theory"><div class="pagination-nav__sublabel">Precedente</div><div class="pagination-nav__label">Nozioni di base</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/learning/docs/business-central/api/external-api"><div class="pagination-nav__sublabel">Successivo</div><div class="pagination-nav__label">API Esterne</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisiti" class="table-of-contents__link toc-highlight">Prerequisiti</a></li><li><a href="#primo-test" class="table-of-contents__link toc-highlight">Primo Test</a></li><li><a href="#creare-api-custom" class="table-of-contents__link toc-highlight">Creare API Custom</a><ul><li><a href="#costruzione-degli-url" class="table-of-contents__link toc-highlight">Costruzione degli URL</a></li></ul></li><li><a href="#basic-operations" class="table-of-contents__link toc-highlight">Basic Operations</a></li><li><a href="#get-api" class="table-of-contents__link toc-highlight">GET API</a><ul><li><a href="#filtrare" class="table-of-contents__link toc-highlight">Filtrare</a></li></ul></li><li><a href="#post-api" class="table-of-contents__link toc-highlight">POST API</a></li><li><a href="#patch-api" class="table-of-contents__link toc-highlight">PATCH API</a></li><li><a href="#delete-api" class="table-of-contents__link toc-highlight">DELETE API</a></li><li><a href="#esercizio" class="table-of-contents__link toc-highlight">Esercizio</a></li><li><a href="#connessione-con-power-platform" class="table-of-contents__link toc-highlight">Connessione con Power Platform</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/thomascristofaro/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/thomascristofaro/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://cristofaro.dev/it/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Thomas Cristofaro<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://learn.microsoft.com/it-it/training/browse/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Microsoft Learn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Thomas Cristofaro, Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>